<html>
	<head>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>

			<script src="./index.ts"></script>

			<!-- <script src="./lib/easyrtc/easyrtc.js"></script> -->
			<!-- Write dynamically to avoid Parcel parsing. -->
			<script>
				document.write('<script' + ' src="/easyrtc/easyrtc.js"></' + 'script>');
			</script>

			<script>
				document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
					':35729/livereload.js?snipver=1"></' + 'script>')
			</script>
	</head>
	<body>
		<a-scene networked-scene="
			app: colab-vr;
			room: room1;
			debug: true;
			adapter: easyrtc;"
		>
			<a-assets>

				<template id="avatar-template">
					<a-entity class="avatar">
						<a-sphere class="head"
							color="#5985ff"
							scale="0.45 0.5 0.4"
						></a-sphere>
						<a-entity class="face"
							position="0 0.05 0"
						>
							<a-sphere class="eye"
								color="#efefef"
								position="0.16 0.1 -0.35"
								scale="0.12 0.12 0.12"
							>
								<a-sphere class="pupil"
									color="#000"
									position="0 0 -1"
									scale="0.2 0.2 0.2"
								></a-sphere>
							</a-sphere>
							<a-sphere class="eye"
								color="#efefef"
								position="-0.16 0.1 -0.35"
								scale="0.12 0.12 0.12"
							>
								<a-sphere class="pupil"
									color="#000"
									position="0 0 -1"
									scale="0.2 0.2 0.2"
								></a-sphere>
							</a-sphere>
						</a-entity>
					</a-entity>
				</template>

				<template id="box-template">
					<a-entity>
						<a-box class="box" grid-mat="opacity: 0.2" shadow="cast: false; receive: false"></a-box>
					</a-entity>
				</template>

			</a-assets>

			<a-entity id="sky" light="color: #ceceff; intensity: 0.4; type: hemisphere; groundColor: #8f8f8f; decay: 0" visible=""></a-entity>

			<a-entity id="sun" light="color: #fffff0; intensity: 0.95; groundColor: #ff0000;
				castShadow: true; shadowCameraTop: 30; shadowCameraRight: 30;
				shadowCameraBottom: -30; shadowCameraLeft: -30; shadowMapHeight: 2048; shadowMapWidth: 2048" position="2 5 3"></a-entity>

			<a-plane shadow grid-mat width="75" height="75" rotation="-90 0 0"></a-plane>

			<a-entity id="camera" position="0 1.3 0"
				camera look-controls="pointerLockEnabled: true" movement-controls
				networked="template:#avatar-template;attachTemplateToLocal:false;"
			></a-entity>

			<a-sphere id="cursor" locked-pointer="pointerSelector: #camera; vector: 0 1 0; position: 0 0 0" snap scale="0.08 0.08 0.08" material="color: gray"></a-sphere>

		</a-scene>
	</body>
</html>
