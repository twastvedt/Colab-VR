<html>
	<head>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>

			<script src="./app.js"></script>

			<script src="/easyrtc/easyrtc.js"></script>

			<script>
				document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
					':35729/livereload.js?snipver=1"></' + 'script>')
			</script>
	</head>
	<body>
		<a-scene networked-scene="
			app: colab-vr;
			room: room1;
			debug: true;
			adapter: easyrtc;"
		>
			<a-assets>
				<img id="icon-arrowUp" src="./assets/icon-arrowUp.png">
				<img id="icon-arrowUpDown" src="./assets/icon-arrowUpDown.png">
				<img id="icon-circle" src="./assets/icon-circle.png">

				<a-asset-item id="double-cone" src="./assets/double-cone.glb"></a-asset-item>

				<template id="avatar-template">
					<a-entity class="avatar">
						<a-sphere class="head"
							color="#5985ff"
							scale="0.45 0.5 0.4"
						></a-sphere>
						<a-entity class="face"
							position="0 0.05 0"
						>
							<a-sphere class="eye"
								color="#efefef"
								position="0.16 0.1 -0.35"
								scale="0.12 0.12 0.12"
							>
								<a-sphere class="pupil"
									color="#000"
									position="0 0 -1"
									scale="0.2 0.2 0.2"
								></a-sphere>
							</a-sphere>
							<a-sphere class="eye"
								color="#efefef"
								position="-0.16 0.1 -0.35"
								scale="0.12 0.12 0.12"
							>
								<a-sphere class="pupil"
									color="#000"
									position="0 0 -1"
									scale="0.2 0.2 0.2"
								></a-sphere>
							</a-sphere>
						</a-entity>
					</a-entity>
				</template>

				<template id="box-template">
					<a-entity>
						<a-box class="box draw-base" grid-mat="opacity: 0.2" shadow="cast: false; receive: false"></a-box>
					</a-entity>
				</template>

			</a-assets>

			<a-entity id="sky" light="color: #ceceff; intensity: 0.4; type: hemisphere; groundColor: #8f8f8f; decay: 0" visible=""></a-entity>

			<a-entity id="sun" light="color: #fffff0; intensity: 0.95; groundColor: #ff0000;
				castShadow: true; shadowCameraTop: 30; shadowCameraRight: 30;
				shadowCameraBottom: -30; shadowCameraLeft: -30; shadowMapHeight: 2048; shadowMapWidth: 2048" position="2 5 3"></a-entity>

			<a-plane class="draw-base" shadow="cast: false; receive: true" grid-mat width="75" height="75" rotation="-90 0 0"></a-plane>

			<a-entity id="camera" position="0 1.3 0"
				camera look-controls="pointerLockEnabled: true" movement-controls
				networked="template:#avatar-template;attachTemplateToLocal:false;"
			>
				<a-entity id="pointer" laser-controls raycaster="objects: .draw-base"></a-entity>
			</a-entity>

			<a-entity id="cursor"
				cursor-geo="state: inactive"
				sliding-pointer="pointerSelector: #pointer"
				locked-pointer="pointerSelector: #pointer; pause: true"
				snap
			>
				<a-circle id="cursor-inactive"
					position="0 0.01 0" rotation="-90 0 0"
					radius="0.06"
					material="shader: flat; color: white; transparent: true; opacity: 0.5"
					visible=""
				>
					<a-ring radius-outer="0.07" radius-inner="0.06"
						material="shader: flat; color: black; transparent: true; opacity: 0.5"></a-ring>
				</a-circle>

				<a-gltf-model id="cursor-drawing-line" src="#double-cone"
					constant-scale="0.03 0.03 0.03"
					material="shader: flat; color: white;" apply-material outline="width: 0.08"
					visible=""></a-gltf-model>

				<a-circle id="cursor-drawing-plane"
					position="0 0.01 0" rotation="-90 0 0"
					radius="0.06"
					material="shader: flat; color: white"
					visible=""
				>
					<a-ring radius-outer="0.07" radius-inner="0.06"
						material="shader: flat; color: black"></a-ring>
				</a-circle>
			</a-entity>

		</a-scene>
	</body>
</html>
